function gameDetailsHandler(e,a,t,o,n,r){var i={DeleteGameCommentUrl:null,MeesageAboutGameErrorUrl:null,GameId:null,GetGameEarlierCommentsUrl:null},m={okText:r.Yes,cancelText:r.No},s={divGameComments:null,addToFavourite:null,myGamesLink:null,sayaboutgameerror:null,meesageAboutGameErrorUrl:null,downloadVideoLink:null};var u=[];i.DeleteGameCommentUrl=e,i.GetGameEarlierCommentsUrl=o,i.MeesageAboutGameErrorUrl=t,i.GameId=a,s.divGameComments=$("#divGameComments"),s.myGamesLink=$("#mygames"),s.toogleSun=$("#toogle-sun"),s.addToFavourite=$("#addToFavourite"),s.sayaboutgameerror=$("#sayaboutgameerror"),s.downloadVideoLink=$(".downloadVideoLink"),s.viewEarlierButtonContainer=$("#viewEarlierButtonContainer"),s.addToFavourite.click(function(){!function(){var e="game-ids",a=localStorage.getItem(e);if(a){var t=JSON.parse(a);20<t.length&&t.shift(),t.includes(i.GameId)||(t.push(i.GameId),localStorage.setItem(e,JSON.stringify(t)))}else localStorage.setItem(e,JSON.stringify([i.GameId]));(function(o,n,e){var t=1,r=1,i=60,m=0,s=0,l=0,d=n/i;function c(e,a){return Math.floor(Math.random()*(a-e+1))+e}-1===u.indexOf(o)&&(u.push(o),e?function e(){if(r<i){console.log(t),o.style.transform="rotate("+l+"deg)",n-=d;var a=Number(n*t).toFixed(2);console.log(a),o.style.transform="rotate("+a+"deg)",r+=1,t*=-1,requestAnimationFrame(e)}i<=r&&(o.style.transform="rotate("+l+"deg)",u.splice(u.indexOf(o),1))}():function e(){if(r<i){o.style.transform="translate("+m+"px, "+s+"px)";var a=c(-(n-=d),n),t=c(-n,n);o.style.transform="translate("+a+"px, "+t+"px)",r+=1,requestAnimationFrame(e)}i<=r&&(o.style.transform="translate("+m+", "+s+")",u.splice(u.indexOf(o),1))}())})(s.myGamesLink[0],10,!1),$.Growl.show(r.AddedSuccess,{icon:"Success"})}()}),s.downloadVideoLink.click(function(){var e=$(this),a=e.attr("data-videoLink");window.open(a,"_blank")}),s.toogleSun.click(function(){var e=$("body");e.hasClass("night-theme")?e.removeClass("night-theme"):e.addClass("night-theme")}),s.sayaboutgameerror.click(function(){var e={title:r.DescribeYourError+": ",saveBtnText:"OK"};SiteDialog.saveFormDialog(n,e,r,function(){$.Growl.show(r.MeesageAboutGameErrorSendSuccess,{icon:"Success"})},function(){})}),s.divGameComments.on("click","[data-deleteCommentId]",function(){var a=$(this).attr("data-deleteCommentId");SiteDialog.confirm(r.AreUouSureToRemoveThisComment,function(e){e&&$.ajax({traditional:!0,type:"POST",data:{id:a,gameId:i.GameId},url:i.DeleteGameCommentUrl,dataType:"text",cache:!1,success:function(e){s.divGameComments.empty().append(e),$.Growl.show(r.MessageCommentaryRemovedSuccess,{icon:"Success"})}})},m)}),s.divGameComments.on("click","input[type='submit']",function(){var e=jQuery("form",s.divGameComments);if(!e.valid())return!1;var a=e.serialize(),t=e.attr("action");return $.ajax({type:"POST",data:a,url:t,cache:!1,success:function(e){s.divGameComments.html(e),SiteValidators.refreshValidators(s.divGameComments),SiteScriptMessage.evaluateScriptMessages()}}),!1}),s.divGameComments.on("click","#viewEarlierButton",function(){var e=$(this),a=e.attr("data-page"),t=e.attr("data-gameId"),o={Page:a,GameId:t};$.ajax({type:"POST",data:o,url:i.GetGameEarlierCommentsUrl,cache:!1,dataType:"text",success:function(e){$("#viewEarlierButtonContainer").remove(),s.divGameComments.find("#commentsContainer").append(e)}})})}